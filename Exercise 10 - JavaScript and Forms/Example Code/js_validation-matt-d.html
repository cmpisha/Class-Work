<!DOCTYPE HTML>
<html lang='en'>
	<meta charset="utf-8">
	<head>
		<style>
			fieldset {
				line-height: 25px;
				background-color: #FFEE98;
			}

			header {
			    background-color: black;
			    color:lime;
			    text-align:center;
			    padding:5px;
			    font-size: 50px;
			}
			nav {
			    line-height:30px;
			    background-color:#eeeeee;
			    height:300px;
			    width:100px;
			    float:left;
			    padding:5px;
			}
			section {
			    /*width:3px;*/
			    float:left;
			    padding:10px;
			}
			footer {
			    background-color:black;
			    color:white;
			    clear:both;
			    text-align:center;
			    padding:5px;
			    position: fixed;
			    top: 20px;
			}	

		</style>
		<script>
			
			document.addEventListener("DOMContentLoaded", function(){
				var formNode = document.getElementById("form1");
				console.log(formNode);
				formNode.addEventListener("submit", function(event){
					// localStorage.setItem("firstName", formNode.elements.firstName.value);
					// localStorage.setItem("lastName", formNode.elements.lastName.value);
					// localStorage.setItem("email", formNode.elements.email.value);
					// localStorage.setItem("phoneNumber", formNode.elements.phoneNumber.value);
					//localStorage.setItem("city", formNode.elements.city.value);
					// var state = formNode.elements.ddl_state;
					// localStorage.setItem("state", state.selectedOptions[0].value);

					for(var i=0;i<formNode.elements.length;i++){
						localStorage.setItem(formNode.elements[i].name, formNode.elements[i].value);
					}

					event.preventDefault();

				});

					// var firstName = localStorage.getItem("firstName");
					// var lastName = localStorage.getItem("lastName");
					// var email = localStorage.getItem("email");
					// var phoneNumber = localStorage.getItem("phoneNumber");
					// var city = localStorage.getItem("city");
					// var state = localStorage.getItem("state");

					// document.getElementById("firstName").value = firstName;
					// document.getElementById("lastName").value = lastName;
					// document.getElementById("email").value = email;
					// document.getElementById("phoneNumber").value = phoneNumber;
					// document.getElementById("city").value = city;
					// document.getElementById("state").value = state;


					for(var k=0;k<formNode.elements.length;k++){
						formNode.elements[k].value = localStorage.getItem(formNode.elements[k].name);
					}


			});

			function validateForm(){
				
				var checkInput = document.getElementsByTagName('input');
				var len = checkInput.length;
				for(var i=0;i<len;i++){
					if(checkInput[i].value === ""){
						alert(checkInput[i].name +" "+"is required");
						return false;
					}
					else{
						//return true;
					}
				}

				
				
			}

			function clearStorage() {
			localStorage.clear();
			document.getElementById('form1').reset();
			
		}

		</script>	

	</head>

	<body>
		
		<header>Lets figure you out</header>

		<section>
			
			<fieldset>
				
				<legend style= "font-size: 25px">Give me your info fool</legend>

				<form method="GET" onsubmit="return validateForm()" id="form1">
					
					First Name: <input type="text" name="firstName" id="firstName">
					<br>
					Last Name: <input type="text" name="lastName" id="lastName">
					<br>
					Email: <input type="text" name="email" id="email">
					<br>
					Phone: <input type="text" placeholder="xxx-xxx-xxxx" name="phoneNumber" id="phoneNumber">
					<br>
					City: <input type="text" name="city" id="city">
					<br>
					State: <select name="ddl_state" id="ddl_state">
						<option value="AL">Alabama</option>
						<option value="AK">Alaska</option>
						<option value="AZ">Arizona</option>
						<option value="AR">Arkansas</option>
						<option value="CA">California</option>
						<option value="CO">Colorado</option>
						<option value="CT">Connecticut</option>
						<option value="DE">Delaware</option>
						<option value="DC">District Of Columbia</option>
						<option value="FL">Florida</option>
						<option value="GA">Georgia</option>
						<option value="HI">Hawaii</option>
						<option value="ID">Idaho</option>
						<option value="IL">Illinois</option>
						<option value="IN">Indiana</option>
						<option value="IA">Iowa</option>
						<option value="KS">Kansas</option>
						<option value="KY">Kentucky</option>
						<option value="LA">Louisiana</option>
						<option value="ME">Maine</option>
						<option value="MD">Maryland</option>
						<option value="MA">Massachusetts</option>
						<option value="MI">Michigan</option>
						<option value="MN">Minnesota</option>
						<option value="MS">Mississippi</option>
						<option value="MO">Missouri</option>
						<option value="MT">Montana</option>
						<option value="NE">Nebraska</option>
						<option value="NV">Nevada</option>
						<option value="NH">New Hampshire</option>
						<option value="NJ">New Jersey</option>
						<option value="NM">New Mexico</option>
						<option value="NY">New York</option>
						<option value="NC">North Carolina</option>
						<option value="ND">North Dakota</option>
						<option value="OH">Ohio</option>
						<option value="OK">Oklahoma</option>
						<option value="OR">Oregon</option>
						<option value="PA">Pennsylvania</option>
						<option value="RI">Rhode Island</option>
						<option value="SC">South Carolina</option>
						<option value="SD">South Dakota</option>
						<option value="TN">Tennessee</option>
						<option value="TX">Texas</option>
						<option value="UT">Utah</option>
						<option value="VT">Vermont</option>
						<option value="VA">Virginia</option>
						<option value="WA">Washington</option>
						<option value="WV">West Virginia</option>
						<option value="WI">Wisconsin</option>
						<option value="WY">Wyoming</option>
						</select>
					<br>
					<button type="submit">Give it up</button>

				</form>
				<button onclick="clearStorage()">Clear All</button>
			</fieldset>
		</section>
	</body>
</html>